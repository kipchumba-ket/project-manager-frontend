{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { apiHost } from \"../Variables\";\nimport { appContext } from \"../AppContextProvider\";\nconst Projects = _ref => {\n  _s();\n  let {\n    loggedIn\n  } = _ref;\n  const navigate = useNavigate();\n  const [projects, setProjects] = useState([]);\n  const {\n    setProjectOnEdit\n  } = useContext(appContext);\n  useEffect(() => {\n    if (!loggedIn) {\n      navigate('/home');\n    }\n  }, [loggedIn, navigate]);\n  useEffect(() => {\n    var _JSON$parse;\n    fetch(`${apiHost}/${`my-projects/${(_JSON$parse = JSON.parse(localStorage.getItem('user') || false)) === null || _JSON$parse === void 0 ? void 0 : _JSON$parse.id}`}`).then(res => {\n      if (res.ok) {\n        res.json().then(data => setProjects(data));\n      } else {\n        res.json().then(error => console.warn(error));\n      }\n    });\n  }, []);\n  function handleDelete(deletedProject) {\n    fetch(`${apiHost}/projects/${deletedProject.id}`, {\n      method: 'DELETE'\n    }).then(res => {\n      if (res.ok) {\n        const newProjectsList = projects.filter(project => project.id !== deletedProject.id);\n        setProjects(newProjectsList);\n      } else {\n        res.json().then(error => console.warn(error));\n      }\n    });\n  }\n  function handleEdit(projectOnEdit) {\n    setProjectOnEdit(projectOnEdit);\n    navigate('/project-details');\n  }\n\n  // // // return ( \n  // // //     <div className=\"min-h-screen px-20 py-20\">\n  // // //         <div className=\"flex flex-col relative\">\n  // // //             <div className=\"flex justify-between my-5\">\n  // // //                 <h1 className=\"font-bold\">YOUR PROJECTS</h1>\n  // // //                 <div className=\"flex gap-5\">\n  // // //                     <button onClick={()=>navigate('/add-project')}\n  // // //                         className=\"border-solid border border-blue py-2 px-5 w-40 rounded-md bg-green-300 hover:bg-green-400\">\n  // // //                         Add New\n  // // //                     </button>\n  // // //                 </div>\n  // // //             </div>\n  // // //             <table>\n  // // //                 {\n  // // //                     <tr className=\"min-w-max-content border-x-solid border border-sky\">\n  // // //                         <th>Name</th>\n  // // //                         <th>Topic</th>\n  // // //                         <th>Details</th>\n  // // //                         <th></th>\n  // // //                         <th></th>\n  // // //                     </tr>\n  // // //                 }\n  // // //                 {\n  // // //                     projects.map(project => (\n  // // //                         <tr className=\"border-x-solid border border-sky\">\n  // // //                             <td className=\"px-3\" >{project.name}</td>\n  // // //                             <td className=\"px-3\">{project.topic}</td>\n  // // //                             <td className=\"px-3 max-w-sm\">{project.details}</td>\n  // // //                             <td className=\"px-5\"><button className=\"border-solid border border-green py-1 px-5 rounded-md bg-blue-300 hover:bg-blue-400 w-100\" onClick={()=>handleEdit(project)}>Details</button></td>\n  // // //                             <td className=\"px-5\"><button className=\"border-solid border border-blue py-1 px-5 rounded-md bg-red-300 hover:bg-red-400 w-100\" onClick={()=>handleDelete(project)}>Delete</button></td>\n  // // //                         </tr>\n  // // //                     ))\n  // // //                 }\n  // //             </table>\n  // //         </div>\n  // //     </div>\n  // );\n};\n_s(Projects, \"/GLyS1JZZ7XyzT2ajpye/gEzxBA=\", false, function () {\n  return [useNavigate];\n});\n_c = Projects;\nexport default Projects;\nvar _c;\n$RefreshReg$(_c, \"Projects\");","map":{"version":3,"names":["React","useEffect","useState","useContext","useNavigate","apiHost","appContext","Projects","_ref","_s","loggedIn","navigate","projects","setProjects","setProjectOnEdit","_JSON$parse","fetch","JSON","parse","localStorage","getItem","id","then","res","ok","json","data","error","console","warn","handleDelete","deletedProject","method","newProjectsList","filter","project","handleEdit","projectOnEdit","_c","$RefreshReg$"],"sources":["/home/ket/Desktop/phase-3final-project/frontend/project-manager-client/src/pages/Projects.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport { useNavigate} from \"react-router-dom\";\nimport { apiHost } from \"../Variables\";\nimport { appContext } from \"../AppContextProvider\";\n\n\nconst Projects = ({loggedIn}) => {\n    const navigate = useNavigate()\n    const [projects, setProjects] = useState([])\n    const {setProjectOnEdit} = useContext(appContext)\n\n    useEffect(()=>{\n        if(!loggedIn){\n            navigate('/home')\n        }\n    }, [loggedIn, navigate]);\n\n    useEffect(()=>{\n        fetch(`${apiHost}/${`my-projects/${JSON.parse(localStorage.getItem('user') || false)?.id}`}`)\n            .then((res) => {\n                if(res.ok){\n                    res.json().then(data => setProjects(data))\n                }else {\n                    res.json().then(error => console.warn(error))\n                }\n            })    \n    }, [])\n\n    function handleDelete(deletedProject){\n        fetch(`${apiHost}/projects/${deletedProject.id}`, {method: 'DELETE'})\n        .then((res) => {\n            if(res.ok){\n                const newProjectsList = projects.filter(project => project.id !== deletedProject.id)\n                setProjects(newProjectsList)\n            }else {\n                res.json().then(error => console.warn(error))\n            }\n        }) \n    }\n\n\n    function handleEdit(projectOnEdit){\n        setProjectOnEdit(projectOnEdit)\n        navigate('/project-details')\n    }\n\n    // // // return ( \n    // // //     <div className=\"min-h-screen px-20 py-20\">\n    // // //         <div className=\"flex flex-col relative\">\n    // // //             <div className=\"flex justify-between my-5\">\n    // // //                 <h1 className=\"font-bold\">YOUR PROJECTS</h1>\n    // // //                 <div className=\"flex gap-5\">\n    // // //                     <button onClick={()=>navigate('/add-project')}\n    // // //                         className=\"border-solid border border-blue py-2 px-5 w-40 rounded-md bg-green-300 hover:bg-green-400\">\n    // // //                         Add New\n    // // //                     </button>\n    // // //                 </div>\n    // // //             </div>\n    // // //             <table>\n    // // //                 {\n    // // //                     <tr className=\"min-w-max-content border-x-solid border border-sky\">\n    // // //                         <th>Name</th>\n    // // //                         <th>Topic</th>\n    // // //                         <th>Details</th>\n    // // //                         <th></th>\n    // // //                         <th></th>\n    // // //                     </tr>\n    // // //                 }\n    // // //                 {\n    // // //                     projects.map(project => (\n    // // //                         <tr className=\"border-x-solid border border-sky\">\n    // // //                             <td className=\"px-3\" >{project.name}</td>\n    // // //                             <td className=\"px-3\">{project.topic}</td>\n    // // //                             <td className=\"px-3 max-w-sm\">{project.details}</td>\n    // // //                             <td className=\"px-5\"><button className=\"border-solid border border-green py-1 px-5 rounded-md bg-blue-300 hover:bg-blue-400 w-100\" onClick={()=>handleEdit(project)}>Details</button></td>\n    // // //                             <td className=\"px-5\"><button className=\"border-solid border border-blue py-1 px-5 rounded-md bg-red-300 hover:bg-red-400 w-100\" onClick={()=>handleDelete(project)}>Delete</button></td>\n    // // //                         </tr>\n    // // //                     ))\n    // // //                 }\n    // //             </table>\n    // //         </div>\n    // //     </div>\n    // );\n}\n \nexport default Projects;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AAC9D,SAASC,WAAW,QAAO,kBAAkB;AAC7C,SAASC,OAAO,QAAQ,cAAc;AACtC,SAASC,UAAU,QAAQ,uBAAuB;AAGlD,MAAMC,QAAQ,GAAGC,IAAA,IAAgB;EAAAC,EAAA;EAAA,IAAf;IAACC;EAAQ,CAAC,GAAAF,IAAA;EACxB,MAAMG,QAAQ,GAAGP,WAAW,EAAE;EAC9B,MAAM,CAACQ,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM;IAACY;EAAgB,CAAC,GAAGX,UAAU,CAACG,UAAU,CAAC;EAEjDL,SAAS,CAAC,MAAI;IACV,IAAG,CAACS,QAAQ,EAAC;MACTC,QAAQ,CAAC,OAAO,CAAC;IACrB;EACJ,CAAC,EAAE,CAACD,QAAQ,EAAEC,QAAQ,CAAC,CAAC;EAExBV,SAAS,CAAC,MAAI;IAAA,IAAAc,WAAA;IACVC,KAAK,CAAE,GAAEX,OAAQ,IAAI,eAAY,CAAAU,WAAA,GAAEE,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,cAAAL,WAAA,uBAAjDA,WAAA,CAAmDM,EAAG,EAAE,EAAC,CAAC,CACxFC,IAAI,CAAEC,GAAG,IAAK;MACX,IAAGA,GAAG,CAACC,EAAE,EAAC;QACND,GAAG,CAACE,IAAI,EAAE,CAACH,IAAI,CAACI,IAAI,IAAIb,WAAW,CAACa,IAAI,CAAC,CAAC;MAC9C,CAAC,MAAK;QACFH,GAAG,CAACE,IAAI,EAAE,CAACH,IAAI,CAACK,KAAK,IAAIC,OAAO,CAACC,IAAI,CAACF,KAAK,CAAC,CAAC;MACjD;IACJ,CAAC,CAAC;EACV,CAAC,EAAE,EAAE,CAAC;EAEN,SAASG,YAAYA,CAACC,cAAc,EAAC;IACjCf,KAAK,CAAE,GAAEX,OAAQ,aAAY0B,cAAc,CAACV,EAAG,EAAC,EAAE;MAACW,MAAM,EAAE;IAAQ,CAAC,CAAC,CACpEV,IAAI,CAAEC,GAAG,IAAK;MACX,IAAGA,GAAG,CAACC,EAAE,EAAC;QACN,MAAMS,eAAe,GAAGrB,QAAQ,CAACsB,MAAM,CAACC,OAAO,IAAIA,OAAO,CAACd,EAAE,KAAKU,cAAc,CAACV,EAAE,CAAC;QACpFR,WAAW,CAACoB,eAAe,CAAC;MAChC,CAAC,MAAK;QACFV,GAAG,CAACE,IAAI,EAAE,CAACH,IAAI,CAACK,KAAK,IAAIC,OAAO,CAACC,IAAI,CAACF,KAAK,CAAC,CAAC;MACjD;IACJ,CAAC,CAAC;EACN;EAGA,SAASS,UAAUA,CAACC,aAAa,EAAC;IAC9BvB,gBAAgB,CAACuB,aAAa,CAAC;IAC/B1B,QAAQ,CAAC,kBAAkB,CAAC;EAChC;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACJ,CAAC;AAAAF,EAAA,CA7EKF,QAAQ;EAAA,QACOH,WAAW;AAAA;AAAAkC,EAAA,GAD1B/B,QAAQ;AA+Ed,eAAeA,QAAQ;AAAC,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}