{"ast":null,"code":"var _jsxFileName = \"/home/ket/Desktop/phase-3final-project/frontend/project-manager-frontend/src/pages/Projects.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { apiHost } from \"../Variables\";\nimport { appContext } from \"../AppContextProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Projects = _ref => {\n  _s();\n  let {\n    loggedIn\n  } = _ref;\n  const navigate = useNavigate();\n  const [projects, setProjects] = useState([]);\n  const {\n    setProjectOnEdit\n  } = useContext(appContext);\n  useEffect(() => {\n    if (!loggedIn) {\n      navigate('/home');\n    }\n  }, [loggedIn, navigate]);\n  useEffect(() => {\n    var _JSON$parse;\n    fetch(`${apiHost}/${`my-projects/${(_JSON$parse = JSON.parse(localStorage.getItem('user') || false)) === null || _JSON$parse === void 0 ? void 0 : _JSON$parse.id}`}`).then(res => {\n      if (res.ok) {\n        res.json().then(data => setProjects(data));\n      } else {\n        res.json().then(error => console.warn(error));\n      }\n    });\n  }, []);\n  function handleDelete(deletedProject) {\n    fetch(`${apiHost}/projects/${deletedProject.id}`, {\n      method: 'DELETE'\n    }).then(res => {\n      if (res.ok) {\n        const newProjectsList = projects.filter(project => project.id !== deletedProject.id);\n        setProjects(newProjectsList);\n      } else {\n        res.json().then(error => console.warn(error));\n      }\n    });\n  }\n  function handleEdit(projectOnEdit) {\n    setProjectOnEdit(projectOnEdit);\n    navigate('/project-details');\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen px-20 py-20\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between my-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"font-bold\",\n          children: \"YOUR PROJECTS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-5\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/add-project'),\n            className: \"border-solid border border-blue py-2 px-5 w-40 rounded-md bg-green-300 hover:bg-green-400\",\n            children: \"Add New\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"min-w-max-content border-x-solid border border-sky\",\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Topic\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }, this), projects.map(project => /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"border-x-solid border border-sky\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-3\",\n            children: project.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-3\",\n            children: project.topic\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-3 max-w-sm\",\n            children: project.details\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-5\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"border-solid border border-green py-1 px-5 rounded-md bg-blue-300 hover:bg-blue-400 w-100\",\n              onClick: () => handleEdit(project),\n              children: \"Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 54\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-5\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"border-solid border border-blue py-1 px-5 rounded-md bg-red-300 hover:bg-red-400 w-100\",\n              onClick: () => handleDelete(project),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 54\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 29\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n_s(Projects, \"/GLyS1JZZ7XyzT2ajpye/gEzxBA=\", false, function () {\n  return [useNavigate];\n});\n_c = Projects;\nexport default Projects;\nvar _c;\n$RefreshReg$(_c, \"Projects\");","map":{"version":3,"names":["React","useEffect","useState","useContext","useNavigate","apiHost","appContext","jsxDEV","_jsxDEV","Projects","_ref","_s","loggedIn","navigate","projects","setProjects","setProjectOnEdit","_JSON$parse","fetch","JSON","parse","localStorage","getItem","id","then","res","ok","json","data","error","console","warn","handleDelete","deletedProject","method","newProjectsList","filter","project","handleEdit","projectOnEdit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","name","topic","details","_c","$RefreshReg$"],"sources":["/home/ket/Desktop/phase-3final-project/frontend/project-manager-frontend/src/pages/Projects.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport { useNavigate} from \"react-router-dom\";\nimport { apiHost } from \"../Variables\";\nimport { appContext } from \"../AppContextProvider\";\n\n\nconst Projects = ({loggedIn}) => {\n    const navigate = useNavigate()\n    const [projects, setProjects] = useState([])\n    const {setProjectOnEdit} = useContext(appContext)\n\n    useEffect(()=>{\n        if(!loggedIn){\n            navigate('/home')\n        }\n    }, [loggedIn, navigate])\n\n    useEffect(()=>{\n        fetch(`${apiHost}/${`my-projects/${JSON.parse(localStorage.getItem('user') || false)?.id}`}`)\n            .then((res) => {\n                if(res.ok){\n                    res.json().then(data => setProjects(data))\n                }else {\n                    res.json().then(error => console.warn(error))\n                }\n            })    \n    }, [])\n\n    function handleDelete(deletedProject){\n        fetch(`${apiHost}/projects/${deletedProject.id}`, {method: 'DELETE'})\n        .then((res) => {\n            if(res.ok){\n                const newProjectsList = projects.filter(project => project.id !== deletedProject.id)\n                setProjects(newProjectsList)\n            }else {\n                res.json().then(error => console.warn(error))\n            }\n        }) \n    }\n\n\n    function handleEdit(projectOnEdit){\n        setProjectOnEdit(projectOnEdit)\n        navigate('/project-details')\n    }\n\n    return ( \n        <div className=\"min-h-screen px-20 py-20\">\n            <div className=\"flex flex-col relative\">\n                <div className=\"flex justify-between my-5\">\n                    <h1 className=\"font-bold\">YOUR PROJECTS</h1>\n                    <div className=\"flex gap-5\">\n                        <button onClick={()=>navigate('/add-project')}\n                            className=\"border-solid border border-blue py-2 px-5 w-40 rounded-md bg-green-300 hover:bg-green-400\">\n                            Add New\n                        </button>\n                    </div>\n                </div>\n                <table>\n                    {\n                        <tr className=\"min-w-max-content border-x-solid border border-sky\">\n                            <th>Name</th>\n                            <th>Topic</th>\n                            <th>Details</th>\n                            <th></th>\n                            <th></th>\n                        </tr>\n                    }\n                    {\n                        projects.map(project => (\n                            <tr className=\"border-x-solid border border-sky\">\n                                <td className=\"px-3\" >{project.name}</td>\n                                <td className=\"px-3\">{project.topic}</td>\n                                <td className=\"px-3 max-w-sm\">{project.details}</td>\n                                <td className=\"px-5\"><button className=\"border-solid border border-green py-1 px-5 rounded-md bg-blue-300 hover:bg-blue-400 w-100\" onClick={()=>handleEdit(project)}>Details</button></td>\n                                <td className=\"px-5\"><button className=\"border-solid border border-blue py-1 px-5 rounded-md bg-red-300 hover:bg-red-400 w-100\" onClick={()=>handleDelete(project)}>Delete</button></td>\n                            </tr>\n                        ))\n                    }\n                </table>\n            </div>\n        </div>\n    );\n}\n \nexport default Projects;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AAC9D,SAASC,WAAW,QAAO,kBAAkB;AAC7C,SAASC,OAAO,QAAQ,cAAc;AACtC,SAASC,UAAU,QAAQ,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAGnD,MAAMC,QAAQ,GAAGC,IAAA,IAAgB;EAAAC,EAAA;EAAA,IAAf;IAACC;EAAQ,CAAC,GAAAF,IAAA;EACxB,MAAMG,QAAQ,GAAGT,WAAW,EAAE;EAC9B,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM;IAACc;EAAgB,CAAC,GAAGb,UAAU,CAACG,UAAU,CAAC;EAEjDL,SAAS,CAAC,MAAI;IACV,IAAG,CAACW,QAAQ,EAAC;MACTC,QAAQ,CAAC,OAAO,CAAC;IACrB;EACJ,CAAC,EAAE,CAACD,QAAQ,EAAEC,QAAQ,CAAC,CAAC;EAExBZ,SAAS,CAAC,MAAI;IAAA,IAAAgB,WAAA;IACVC,KAAK,CAAE,GAAEb,OAAQ,IAAI,eAAY,CAAAY,WAAA,GAAEE,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,cAAAL,WAAA,uBAAjDA,WAAA,CAAmDM,EAAG,EAAE,EAAC,CAAC,CACxFC,IAAI,CAAEC,GAAG,IAAK;MACX,IAAGA,GAAG,CAACC,EAAE,EAAC;QACND,GAAG,CAACE,IAAI,EAAE,CAACH,IAAI,CAACI,IAAI,IAAIb,WAAW,CAACa,IAAI,CAAC,CAAC;MAC9C,CAAC,MAAK;QACFH,GAAG,CAACE,IAAI,EAAE,CAACH,IAAI,CAACK,KAAK,IAAIC,OAAO,CAACC,IAAI,CAACF,KAAK,CAAC,CAAC;MACjD;IACJ,CAAC,CAAC;EACV,CAAC,EAAE,EAAE,CAAC;EAEN,SAASG,YAAYA,CAACC,cAAc,EAAC;IACjCf,KAAK,CAAE,GAAEb,OAAQ,aAAY4B,cAAc,CAACV,EAAG,EAAC,EAAE;MAACW,MAAM,EAAE;IAAQ,CAAC,CAAC,CACpEV,IAAI,CAAEC,GAAG,IAAK;MACX,IAAGA,GAAG,CAACC,EAAE,EAAC;QACN,MAAMS,eAAe,GAAGrB,QAAQ,CAACsB,MAAM,CAACC,OAAO,IAAIA,OAAO,CAACd,EAAE,KAAKU,cAAc,CAACV,EAAE,CAAC;QACpFR,WAAW,CAACoB,eAAe,CAAC;MAChC,CAAC,MAAK;QACFV,GAAG,CAACE,IAAI,EAAE,CAACH,IAAI,CAACK,KAAK,IAAIC,OAAO,CAACC,IAAI,CAACF,KAAK,CAAC,CAAC;MACjD;IACJ,CAAC,CAAC;EACN;EAGA,SAASS,UAAUA,CAACC,aAAa,EAAC;IAC9BvB,gBAAgB,CAACuB,aAAa,CAAC;IAC/B1B,QAAQ,CAAC,kBAAkB,CAAC;EAChC;EAEA,oBACIL,OAAA;IAAKgC,SAAS,EAAC,0BAA0B;IAAAC,QAAA,eACrCjC,OAAA;MAAKgC,SAAS,EAAC,wBAAwB;MAAAC,QAAA,gBACnCjC,OAAA;QAAKgC,SAAS,EAAC,2BAA2B;QAAAC,QAAA,gBACtCjC,OAAA;UAAIgC,SAAS,EAAC,WAAW;UAAAC,QAAA,EAAC;QAAa;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAK,eAC5CrC,OAAA;UAAKgC,SAAS,EAAC,YAAY;UAAAC,QAAA,eACvBjC,OAAA;YAAQsC,OAAO,EAAEA,CAAA,KAAIjC,QAAQ,CAAC,cAAc,CAAE;YAC1C2B,SAAS,EAAC,2FAA2F;YAAAC,QAAA,EAAC;UAE1G;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAS;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACP;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACJ,eACNrC,OAAA;QAAAiC,QAAA,gBAEQjC,OAAA;UAAIgC,SAAS,EAAC,oDAAoD;UAAAC,QAAA,gBAC9DjC,OAAA;YAAAiC,QAAA,EAAI;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAK,eACbrC,OAAA;YAAAiC,QAAA,EAAI;UAAK;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAK,eACdrC,OAAA;YAAAiC,QAAA,EAAI;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAK,eAChBrC,OAAA;YAAAkC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAS,eACTrC,OAAA;YAAAkC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAS;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACR,EAGL/B,QAAQ,CAACiC,GAAG,CAACV,OAAO,iBAChB7B,OAAA;UAAIgC,SAAS,EAAC,kCAAkC;UAAAC,QAAA,gBAC5CjC,OAAA;YAAIgC,SAAS,EAAC,MAAM;YAAAC,QAAA,EAAGJ,OAAO,CAACW;UAAI;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAM,eACzCrC,OAAA;YAAIgC,SAAS,EAAC,MAAM;YAAAC,QAAA,EAAEJ,OAAO,CAACY;UAAK;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAM,eACzCrC,OAAA;YAAIgC,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAEJ,OAAO,CAACa;UAAO;YAAAR,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAM,eACpDrC,OAAA;YAAIgC,SAAS,EAAC,MAAM;YAAAC,QAAA,eAACjC,OAAA;cAAQgC,SAAS,EAAC,2FAA2F;cAACM,OAAO,EAAEA,CAAA,KAAIR,UAAU,CAACD,OAAO,CAAE;cAAAI,QAAA,EAAC;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAAS;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAK,eAC1LrC,OAAA;YAAIgC,SAAS,EAAC,MAAM;YAAAC,QAAA,eAACjC,OAAA;cAAQgC,SAAS,EAAC,wFAAwF;cAACM,OAAO,EAAEA,CAAA,KAAId,YAAY,CAACK,OAAO,CAAE;cAAAI,QAAA,EAAC;YAAM;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAAS;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAK;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAE/L,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAEF;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EACN;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACJ;AAEd,CAAC;AAAAlC,EAAA,CA7EKF,QAAQ;EAAA,QACOL,WAAW;AAAA;AAAA+C,EAAA,GAD1B1C,QAAQ;AA+Ed,eAAeA,QAAQ;AAAC,IAAA0C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}